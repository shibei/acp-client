# 更新日志 (CHANGELOG)

所有重要的项目变更都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本控制](https://semver.org/lang/zh-CN/)。

---

## [2.0.0] - 2025-11-28

### 🚀 新增功能
- **重构架构**: 全新的模块化架构设计，提高代码可维护性和扩展性
- **多目标协调器**: 新增 `NewMultiTargetOrchestrator` 类，统一管理多目标观测
- **配置管理器**: 新增 `MultiTargetConfigManager`，支持YAML配置文件
- **连接管理器**: 新增 `ACPConnectionManager`，优化连接管理
- **成像管理器**: 新增 `ACPImagingManager`，专门处理成像相关操作
- **目标调度器**: 新增 `TargetScheduler`，智能调度算法
- **观测执行器**: 新增 `TargetObservationExecutor`，专业的观测执行引擎

### 🔧 改进优化
- **错误处理**: 增强错误处理和重试机制
- **日志系统**: 改进日志管理，支持多级别日志输出
- **状态监控**: 增强实时状态监控和回调机制
- **验证机制**: 新增目标可观测性验证功能
- **调度算法**: 优化目标调度算法，支持优先级和时间窗口

### 📝 配置增强
- **YAML配置**: 全面支持YAML配置文件，简化配置管理
- **多目标支持**: 支持配置多个观测目标，每个目标独立参数
- **中天反转**: 新增中天反转配置，智能处理meridian flip
- **观测站位置**: 支持观测站地理位置配置
- **全局设置**: 新增全局成像参数配置

### 🧪 测试功能
- **验证模式**: 新增 `--validate` 参数，支持配置和目标验证
- **摘要模式**: 新增 `--summary` 参数，显示调度摘要信息
- **DRYRUN增强**: 改进DRYRUN模式，更真实的模拟体验

### 📚 文档改进
- **README文档**: 全面更新项目文档，详细介绍功能和使用方法
- **API文档**: 完善API接口文档，提供使用示例
- **配置说明**: 详细的配置文件说明和示例

---

## [1.5.0] - 2025-11-20

### 新增功能
- **HAR文件分析**: 基于HAR文件的网络协议分析功能
- **状态解析**: 改进的状态数据解析算法
- **实际数据测试**: 使用真实HAR数据的功能测试

### 改进优化
- **协议兼容性**: 基于实际网络抓包优化协议兼容性
- **状态监控**: 增强系统状态监控功能
- **错误处理**: 改进网络通信错误处理

---

## [1.4.0] - 2025-11-15

### 新增功能
- **多滤镜支持**: 支持LRGB、H-alpha、OIII、SII等多种滤镜
- **自动对焦**: 新增周期性自动对焦功能
- **抖动功能**: 支持成像过程中的抖动操作

### 改进优化
- **成像计划**: 优化成像计划构建算法
- **表单生成**: 改进ACP表单数据生成
- **参数验证**: 增强成像参数验证

---

## [1.3.0] - 2025-11-10

### 新增功能
- **中天反转**: 新增meridian flip检测和处理
- **时间计算**: 新增中天时间计算功能
- **安全边距**: 支持中天前后安全边距设置

### 改进优化
- **观测安全**: 增强中天反转期间的观测安全性
- **时间精度**: 提高天文计算的时间精度
- **坐标转换**: 优化赤道坐标和地平坐标转换

---

## [1.2.0] - 2025-11-05

### 新增功能
- **多目标观测**: 支持按优先级和时间调度多个目标
- **配置文件**: 新增YAML配置文件支持
- **观测验证**: 新增目标可观测性验证

### 改进优化
- **调度算法**: 实现智能目标调度算法
- **时间窗口**: 支持观测时间窗口设置
- **优先级管理**: 实现目标优先级管理机制

---

## [1.1.0] - 2025-10-30

### 新增功能
- **重试机制**: 新增网络通信重试功能
- **超时控制**: 支持连接和请求超时设置
- **会话管理**: 改进HTTP会话管理

### 改进优化
- **连接稳定性**: 提高网络连接稳定性
- **错误恢复**: 增强错误恢复能力
- **性能优化**: 优化网络通信性能

---

## [1.0.0] - 2025-10-25

### 🎉 初始版本
- **ACP客户端**: 基础ACP天文台控制客户端
- **状态监控**: 基本天文台状态获取和解析
- **成像控制**: 基础成像计划启动功能
- **命令行接口**: 基础命令行参数支持

### 核心功能
- **HTTP通信**: 基于HTTP的ACP协议通信
- **状态解析**: JavaScript状态数据解析
- **基础认证**: HTTP基本认证支持
- **日志记录**: 基础日志功能

---

## 开发路线图

### 计划功能 (未来版本)

#### 🔮 [2.1.0] - 计划中
- **Web界面**: 基于Web的用户界面
- **实时监控**: 实时图表和状态显示
- **数据库支持**: 观测数据持久化存储
- **API服务**: RESTful API服务接口

#### 🔮 [2.2.0] - 计划中
- **机器学习**: 基于历史数据的智能调度
- **天气预报**: 集成天气预报API
- **设备健康**: 设备健康状态监控
- **远程控制**: 支持远程系统控制

#### 🔮 [3.0.0] - 长期规划
- **分布式架构**: 支持多天文台分布式管理
- **云集成**: 云平台集成和数据同步
- **移动应用**: 移动端监控和控制应用
- **社区功能**: 用户社区和目标共享

---

## 版本说明

### 版本命名规则
- **主版本号 (X.0.0)**: 重大架构变更或不兼容更新
- **次版本号 (X.Y.0)**: 新功能添加或重要改进
- **修订号 (X.Y.Z)**: 错误修复或小功能优化

### 标签说明
- **🚀 新增功能**: 全新添加的功能特性
- **🔧 改进优化**: 对现有功能的改进和优化
- **🐛 错误修复**: 修复的错误和问题
- **📚 文档改进**: 文档和说明的更新
- **🧪 测试功能**: 测试相关的功能
- **🎉 重要版本**: 重要的里程碑版本

---

## 贡献记录

### 主要贡献者
- **项目发起人**: 初始架构设计和核心功能开发
- **代码贡献者**: 功能扩展和错误修复
- **测试贡献者**: 功能测试和问题反馈
- **文档贡献者**: 文档编写和维护

### 感谢
感谢所有为项目做出贡献的开发者和用户，你们的支持是项目发展的动力。

---

**注意**: 此更新日志会随项目发展持续更新，建议定期查看以获取最新信息。